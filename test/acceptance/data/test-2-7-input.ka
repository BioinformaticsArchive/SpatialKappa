%agent: A(s,t)
%agent: B(s,t)
%agent: C(s)

%var: 'catalysedRate' 10

%compartment: membrane [5][5]

%channel: diffusion       (:membrane [x][y] -> :membrane [x+1][y]) + (:membrane [x][y] -> :membrane [x - 1][y]) + \
		(:membrane [x][y] -> :membrane [x][y+1]) + (:membrane [x][y] -> :membrane [x][y - 1])

'diffusion A' A ->:diffusion A @ 1.0
'diffusion B' B ->:diffusion B @ 1.0
'diffusion AB' A(s!1,t),B(s!1,t) ->:diffusion A(s!1,t),B(s!1,t) @ 0.5

'AC bind' A(s,t), C(s) -> A(s!1,t), C(s!1) @ 'catalysedRate'
'ACB bind' A(s!1,t), C(s!1), B(s,t) -> A(s!1,t), C(s), B(s!1,t) @ 'catalysedRate'
'BC bind' A(s,t), C(s) -> A(s!1,t), C(s!1) @ 'catalysedRate'
'BCA bind' B(s!1,t), C(s!1), A(s,t) -> B(s!1,t), C(s), A(s!1,t) @ 'catalysedRate'

'ABAB bind' A(s!1,t), B(s!1,t), A(s!2,t), B(s!2,t) -> A(s!1,t), B(s!1,t!3), A(s!2,t!3), B(s!2,t) @ 0.1
'ABAB close loop' A(s!1,t), B(s!1,t!3), A(s!2,t!3), B(s!2,t) -> A(s!1,t!4), B(s!1,t!3), A(s!2,t!3), B(s!2,t!4) @ 0.1


%init: 1000 :cytosol A,B
%init: 1 :membrane[2][2] C

%obs: 'A2B2' A(s!1,t!3),B(s!1,t!4),A(s!2,t!4),B(s!2,t!3)
